<!--pages/home/home.wxml-->
<view class="app" hidden='{{page_hidden}}'>
  <component-share pageQRCodeData="{{pageQRCodeData}}"></component-share>
  <component-backhome backToHomePage="{{backToHomePage}}"></component-backhome>
  <component-reward-point rewardPointObj="{{rewardPointObj}}"></component-reward-point>
  <component-shop-vip shopVipModal="{{shopVipModal}}"></component-shop-vip>
  <template name="zcCarousel">
    <swiper indicator-dots='true' circular='true' autoplay='{{data.customFeature.autopaly}}' vertical='{{data.customFeature.vertical}}' interval='{{data.customFeature.interval*1000}}' duration='300' indicator-color='{{data.customFeature.indicatorColor}}' indicator-indicator-active-color='{{data.customFeature.indicatorActiveColor}}' style='{{data.style}}'>
      <block wx:for="{{data.content}}" wx:key="">
        <image class='swiper-item' src="{{item.pic}}"></image>
        <view wx:if="{{item.eventHandler == 'tapVideoPlayHandler'}}" class='carousel-video-play ico-play ico-moon'></view>
      </block>
    </swiper>
  </template>
  <template name="carouselVideoPlay">
    <view class='carouselVideoPlay' hidden='{{!data.videoUrl}}' catchtouchmove>
      <view class='carouselVideoPlay-inner'>
        <view class='carouselVideoPlay-close icon-closes ico-moon' data-compid="{{data.compId}}" bindtouchend='carouselVideoClose'></view>
          <video src='{{data.videoUrl}}' controls autoplay='autoplay'></video>
      </view>
    </view>
  </template>
  <view class='ele-container'>
    <template is="zcCarousel" data="{{data:carousel1}}"></template>
  </view>
  <template is="carouselVideoPlay" data="{{data:carousel1}}"></template>
  <template name="zcAlbum">
    <view class="element album {{data.html_mode}}" style="{{data.style}}">
      <view class="album-container background-ele clearfix" style="{{data.ul_style}}" wx:if="{{!data.customFeature.isSideslip}}">
        <view wx:for="{{data.li}}" class="{{item.li_class}}" style='{{item.li_style}}' wx:key="" data-event-params="{{item.eventParams}}" catchtap='{{item.eventHandler}}'>
          <image src='{{item.pic}}' style='{{item.img_style}}' mode='scaleToFill'></image>
          <text class='title'>{{item.title}}</text>
        </view>
      </view>
      <view class='album-container sideslip' wx:if="{{data.customFeature.isSideslip}}">
        <scroll-view scroll-x="{{true}}" style='{{'padding-top:'+ data.customFeature['padding-top']+'px';margin-bottom:'+data.customFeature['padding-top']+'px;white-space:nowrap;padding-right:'+data.customFeature['padding-left']+'px;'}}'>
          <view wx:for="{{data.li}}" class="{{item.li_class}}" style="{{'width:'+data.customFeature.width+';margin-left:'+data.customFeature['padding-left']+'px;'+ (index == data.li.length - 1 ? 'margin-right:'+data.customFeature['padding-left']+'px' : '')  }}" wx:key="" data-event-params="{{item.eventParams}}" catchtap="{{item.eventHandler}}">
            <image src="{{item.pic}}" style="{{item.img_style}}display:block;height: {{data.customFeature.imgHeight}};" mode="scaleToFill"></image>
            <text class="title">{{item.title}}</text>
          </view>
        </scroll-view>
      </view>
    </view>
  </template>

  <view class="ele-container">
    <template is="zcAlbum" data="{{data:album2}}"></template>
  </view>
  <import src="../../components/wxParse/wxParse.wxml"/>
  <template name="zcFreeVessel3">
    <view class="element free-vessel" style="{{data.style}}" data-event-params="{{data.eventParams}}" catchtap="{{data.eventHandler}}">
      <wxs module="pictureWxsModule">
        var isArray = function(arry) {
          return array.join ? true : false;
        }
        module.exports.isArray = isArray;
      </wxs>

      <template name="zcPicture">
        <block wx:if="{{real_value && (data.customFeature.action !== 'call' || data.customFeature.phoneDisplayContent !== 'static')}}">
          <block wx:if="{{pictureWxsModule.isArray(real_value)}}">
            <view data-compdata="{{ data }}" data-real-value="{{ real_value }}" class="element picture" style="{{data.style}}" data-event-params="{{data.eventParams}}" data-imgArr="{{real_value}}" catchtap="{{data.eventHandler}}" wx:for="{{real_value}}" wx:key=""> 
              <image src="{{real_value[index]}}" mode="scaleToFill"></image>
            </view>
          </block>
          <block wx:else>
            <view data-compdata="{{ data }}" class="element picture" style="{{data.style}}" data-event-params="{{data.eventParams}}" data-imgArr="{{real_value}}" catchtap="{{data.eventHandler}}">
              <image src="{{real_value}}" mode="scaleToFill"></image>
            </view>
          </block>
        </block>
        <block wx:else>
          <view data-compdata="{{ data }}" data-real-value="{{ real_value }}" class="element picture" style="{{data.style}}" data-event-params="{{data.eventParams}}" data-imgArr="{{data.content}}" catchtap="{{data.eventHandler}}">
            <image src="{{data.content}}" mode="scaleToFill"></image>
          </view>
        </block>
      </template>
    </view>
  </template>
</view>
